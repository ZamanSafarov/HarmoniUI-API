@using Harmoni.UI.DTOs.Gallery
@model IEnumerable<GalleryGetDTO>

<!-- breadcrumb-section - start
================================================== -->
<section id="breadcrumb-section" class="breadcrumb-section clearfix">
	<div class="jarallax" style="background-image: url(../assets/images/breadcrumb/0.breadcrumb-bg.jpg);">
		<div class="overlay-black">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-lg-6 col-md-12 col-sm-12">

						<!-- breadcrumb-title - start -->
						<div class="breadcrumb-title text-center mb-50">
							<span class="sub-title">event gallery</span>
							<h2 class="big-title">harmoni <strong>gallery</strong></h2>
						</div>
						<!-- breadcrumb-title - end -->
						<!-- breadcrumb-list - start -->
						<div class="breadcrumb-list">
							<ul>
								<li class="breadcrumb-item"><a href="index-1.html" class="breadcrumb-link">Home</a></li>
								<li class="breadcrumb-item active" aria-current="page">harmoni gallery</li>
							</ul>
						</div>
						<!-- breadcrumb-list - end -->

					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- breadcrumb-section - end
================================================== -->





 <section id="event-gallery-section" class="event-gallery-section sec-ptb-100 clearfix">
	<div class="container">
		<div class="button-group filters-button-group mb-30">
			<button class="button is-checked" data-filter="all">
				<i class="fas fa-star"></i>
				<strong>all</strong> gallery
			</button>
			<button class="button" data-filter="video">
				<i class="fas fa-play-circle"></i>
				<strong>video</strong> gallery
			</button>
			<button class="button" data-filter="photo">
				<i class="far fa-image"></i>
				<strong>photo</strong> gallery
			</button>
		</div>

		<div class="grid zoom-gallery clearfix mb-80">
			<!-- Gallery items will be loaded here -->
		</div>

		<div class="pagination ul-li clearfix">
			<ul>
				<li class="page-item prev-item">
					<a class="page-link" href="#" data-page="1">Prev</a>
				</li>
				<li class="page-item active"><a class="page-link" href="#" data-page="1">01</a></li>
				<li class="page-item"><a class="page-link" href="#" data-page="2">02</a></li>
				<li class="page-item"><a class="page-link" href="#" data-page="3">03</a></li>
				<li class="page-item"><a class="page-link" href="#" data-page="4">04</a></li>
				<li class="page-item"><a class="page-link" href="#" data-page="5">05</a></li>
				<li class="page-item next-item">
					<a class="page-link" href="#" data-page="2">Next</a>
				</li>
			</ul>
		</div>
	</div>
</section>











<!-- special-offer-section - start
================================================== -->
<section id="special-offer-section" class="special-offer-section clearfix" style="background-image: url(../assets/images/special-offer-bg.png);">
	<div class="container">
		<div class="row">

			<!-- special-offer-content - start -->
			<div class="col-lg-9 col-md-12 col-sm-12">
				<div class="special-offer-content">
					<h2><strong>30%</strong> Off in June~July for <span>Birthday Events</span></h2>
					<p class="m-0">
						Contact us now and we will make your event unique & unforgettable
					</p>
				</div>
			</div>
			<!-- special-offer-content - end -->
			<!-- event-makeing-btn - start -->
			<div class="col-lg-3 col-md-12 col-sm-12">
				<div class="event-makeing-btn">
					<a href="#!">make an event now</a>
				</div>
			</div>
			<!-- event-makeing-btn - end -->

		</div>
	</div>
</section>
<!-- special-offer-section - end
================================================== -->
@section addjs {
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

	<script>
		$(document).ready(function () {
			loadGalleryItems();

			$('.filters-button-group button').on('click', function () {
				var filter = $(this).data('filter');
				loadGalleryItems(1, filter);
				$('.filters-button-group button').removeClass('is-checked');
				$(this).addClass('is-checked');
			});

			$(document).on('click', '.pagination a', function (e) {
				e.preventDefault();
				var page = $(this).data('page');
				var filter = $('.filters-button-group button.is-checked').data('filter');
				loadGalleryItems(page, filter);
			});

			function loadGalleryItems(page = 1, filter = 'all') {
				$.get('@Url.Action("GetGalleryItems", "Gallery")', { page: page, type: filter }, function (data) {
					var gallery = $('.grid');
					gallery.empty();
					$.each(data, function (index, item) {
						var imageUrl = item.type === "video" ? `	<div class="grid-item video-gallery" ${item.type}-gallery" data-category="${item.type}-gallery">

														<video style="width: 100%;height: 100%;" controls="controls">
																<source src="/uploads/gallery/video/${item.url}"  type="video/mp4" />
														</video>

														<div class="item-content">
															<h3>${item.title}</h3>
															<span>${item.festivalName}, ${item.date}</span>
														</div>
													</div>` : `<div class="grid-item photo-gallery" ${item.type}-gallery" data-category="${item.type}-gallery">

																		<a class="popup-youtube" href="/uploads/gallery/photo/${item.url}">
														<img src="/uploads/gallery/photo/${item.url}" alt="Image_not_found">
																</a>

																<div class="item-content">
																	<h3>${item.title}</h3>
																	<span>${item.festivalName}, ${item.date}</span>
																</div>
													</div>`;

						var galleryItem = `${imageUrl}`;
						gallery.append(galleryItem);
					});
					updatePagination(page);
				});
			}

			function updatePagination(currentPage) {
				var pagination = $('.pagination ul');
				pagination.empty();

				var prevPage = currentPage > 1 ? currentPage - 1 : 1;
				var nextPage = currentPage + 1;

				pagination.append(`<li class="page-item prev-item"><a class="page-link" href="#" data-page="${prevPage}">Prev</a></li>`);
				for (var i = 1; i <= 2; i++) {
					var activeClass = i === currentPage ? 'active' : '';
					pagination.append(`<li class="page-item ${activeClass}"><a class="page-link" href="#" data-page="${i}">${i}</a></li>`);
				}
				pagination.append(`<li class="page-item next-item"><a class="page-link" href="#" data-page="${nextPage}">Next</a></li>`);
			}
		});
	</script> 
}

				@section addcss{
					<style>
						.grid-item{
						width: 33% !important;
			max-height: unset !important;
						}
					</style>
				}